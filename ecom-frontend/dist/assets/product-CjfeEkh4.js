import{g as A,a as N,r as p,u as B,_ as T,b as C,j as t,s as W,c as R,d as z,e as I,f as k,h as L,i as M,C as _,B as l,M as E,T as d,k as y,p as j,l as F,V as H,H as U,m as O}from"./index-JOmW4lxj.js";import{T as b}from"./TextField-Cfm-SUxz.js";import{C as G}from"./Card-BZlkxak9.js";function V(r){return A("MuiCardContent",r)}N("MuiCardContent",["root"]);const Z=["className","component"],X=r=>{const{classes:o}=r;return z({root:["root"]},V,o)},$=W("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(r,o)=>o.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),q=p.forwardRef(function(o,m){const a=B({props:o,name:"MuiCardContent"}),{className:x,component:i="div"}=a,u=T(a,Z),c=C({},a,{component:i}),f=X(c);return t.jsx($,C({as:i,className:R(f.root,x),ownerState:c,ref:m},u))}),J=12,K=[{id:"priceAsc",label:"Price: Low to High"},{id:"priceDesc",label:"Price: High to Low"},{id:"nameAsc",label:"Name A-Z"},{id:"nameDesc",label:"Name Z-A"}],Q=()=>{const r=I(),o=k(),{loading:m,data:a}=L(e=>e.product.list),x=(a==null?void 0:a.products)||[],[i,u]=p.useState("priceAsc"),[c,f]=p.useState("");p.useEffect(()=>{var e;(!a||((e=a==null?void 0:a.products)==null?void 0:e.length)===0)&&o(M())},[]);const v=async e=>{try{o(F(e)).payload&&H.success("Product added to cart")}catch(s){console.error(s)}},w=e=>{r(j.dashboard.product.details(e))},S=e=>{r(j.dashboard.product.checkout(e))},P=e=>{u(e.target.value)},D=e=>{f(e.target.value)},g=x.map(e=>{const s=e.items.filter(n=>(n.name||"").toLowerCase().includes(c.toLowerCase())).sort((n,h)=>i==="priceAsc"?n.salePrice-h.salePrice:i==="priceDesc"?h.salePrice-n.salePrice:i==="nameAsc"?n.name.localeCompare(h.name):i==="nameDesc"?h.name.localeCompare(n.name):0);return{category:e.category,items:s}});return t.jsxs(_,{maxWidth:"xl",sx:{pt:{xs:10,sm:12},pb:6},children:[t.jsxs(l,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,mb:3,maxWidth:{xs:"90%",sm:"60%"},mx:"auto"},children:[t.jsx(b,{size:"small",select:!0,label:"Sort By",value:i,onChange:P,fullWidth:!0,children:K.map(e=>t.jsx(E,{value:e.id,children:e.label},e.id))}),t.jsx(b,{size:"small",fullWidth:!0,placeholder:"Search by name",variant:"outlined",value:c,onChange:D})]}),m?t.jsx(d,{align:"center",children:"Loading..."}):g.every(e=>e.items.length===0)?t.jsx(d,{align:"center",children:"No products found"}):t.jsx(t.Fragment,{children:g.map(e=>e.items.length>0&&t.jsxs(l,{sx:{mb:5},children:[t.jsx(d,{variant:"h6",gutterBottom:!0,children:e.category}),t.jsx(l,{sx:{display:"flex",overflowX:"auto",gap:2,py:2,px:1,scrollSnapType:"x mandatory","&::-webkit-scrollbar":{display:"none"}},children:e.items.slice(0,J).map(s=>{var n;return t.jsx(l,{sx:{flex:"0 0 auto",scrollSnapAlign:"start"},children:t.jsx(G,{sx:{height:200,width:200,display:"flex",flexDirection:"column",justifyContent:"space-between",bgcolor:"#fefefe"},children:t.jsxs(q,{children:[t.jsx(l,{sx:{width:"100%",height:60,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",mb:1},children:t.jsx("img",{src:(n=s.image)==null?void 0:n.replace("http://","https://"),alt:s.name,style:{width:"100%",height:"100%",objectFit:"contain"}})}),t.jsx(d,{variant:"subtitle2",onClick:()=>w(s.objectID),noWrap:!0,title:s.name,sx:{maxWidth:300,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",mb:1,textDecoration:"underline"},children:s.name}),t.jsxs(d,{color:"text.secondary",fontSize:"11px",children:["â‚¹",s.salePrice]}),t.jsxs(l,{sx:{display:"flex",gap:1,justifyContent:"space-between",mt:1},children:[t.jsx(y,{size:"small",variant:"contained",onClick:()=>S(s.objectID),sx:{minWidth:60,padding:"2px 6px",fontSize:"0.6rem"},children:"Buy"}),t.jsx(y,{size:"small",variant:"outlined",onClick:()=>v(s),sx:{minWidth:60,padding:"2px 6px",fontSize:"0.6rem"},children:"Cart"})]})]})})},s.objectID||s.name)})})]},e.category))})]})},Y={title:`Report - ${O.appName}`};function ae(){return t.jsxs(t.Fragment,{children:[t.jsx(U,{children:t.jsxs("title",{children:[" ",Y.title]})}),t.jsx(Q,{})]})}export{ae as default};
